{"ast":null,"code":"var _jsxFileName = \"/Users/elvislumnica/Desktop/heroes-villains/src/App.js\";\nimport React, { useState } from 'react';\nimport SearchBar from './components/SearchBar';\nimport CharacterCard from './components/CharacterCard';\nimport { Container, Row } from 'react-bootstrap';\nimport SelectionModal from './components/SelectionModal';\nimport './app.css';\nconst proxy = process.env.REACT_APP_API_URL;\nconst key = process.env.REACT_APP_API_KEY;\n\nfunction App() {\n  const [characterInfo, setCharacterInfo] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [show, setShow] = useState(false);\n  const [characterList, setCharacterList] = useState(null);\n  console.log('characterInfo', characterInfo);\n\n  const getCharacter = async characterName => {\n    setIsLoading(true);\n\n    try {\n      const response = await fetch(`${proxy}https://superheroapi.com/api/${key}/search/${characterName}`);\n      const data = await response.json();\n\n      if (!response.ok || data.response === 'error') {\n        throw Error(`\"${characterName}\" not found. Try again!`);\n      }\n\n      const filteredData = data.results.filter(item => characterName.toLowerCase() === item.name.toLowerCase());\n      setCharacterList(filteredData);\n\n      if (filteredData.length === 1) {\n        setCharacterInfo(filteredData[0]);\n      } else {\n        setShow(true);\n      }\n\n      console.log('filteredData', filteredData);\n    } catch (err) {\n      setError(err.message);\n      setCharacterInfo(null);\n    }\n\n    setIsLoading(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"parent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"Heroes and Villains\")), /*#__PURE__*/React.createElement(SearchBar, {\n    error: error,\n    isLoading: isLoading,\n    setError: setError,\n    getCharacter: getCharacter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }), characterInfo && !error ? /*#__PURE__*/React.createElement(CharacterCard, {\n    characterInfo: characterInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 36\n    }\n  }) : null, /*#__PURE__*/React.createElement(SelectionModal, {\n    show: show,\n    setCharacterInfo: setCharacterInfo,\n    characterList: characterList,\n    setShow: setShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/elvislumnica/Desktop/heroes-villains/src/App.js"],"names":["React","useState","SearchBar","CharacterCard","Container","Row","SelectionModal","proxy","process","env","REACT_APP_API_URL","key","REACT_APP_API_KEY","App","characterInfo","setCharacterInfo","error","setError","isLoading","setIsLoading","show","setShow","characterList","setCharacterList","console","log","getCharacter","characterName","response","fetch","data","json","ok","Error","filteredData","results","filter","item","toLowerCase","name","length","err","message"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport SearchBar from './components/SearchBar';\nimport CharacterCard from './components/CharacterCard';\nimport { Container, Row } from 'react-bootstrap';\nimport SelectionModal from './components/SelectionModal';\nimport './app.css';\n\nconst proxy = process.env.REACT_APP_API_URL;\nconst key = process.env.REACT_APP_API_KEY;\n\nfunction App() {\n  const [characterInfo, setCharacterInfo] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [show, setShow] = useState(false);\n  const [characterList, setCharacterList] = useState(null);\n\n  console.log('characterInfo', characterInfo);\n\n  const getCharacter = async (characterName) => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(\n        `${proxy}https://superheroapi.com/api/${key}/search/${characterName}`\n      );\n      const data = await response.json();\n      if (!response.ok || data.response === 'error') {\n        throw Error(`\"${characterName}\" not found. Try again!`);\n      }\n      const filteredData = data.results.filter(\n        (item) => characterName.toLowerCase() === item.name.toLowerCase()\n      );\n      setCharacterList(filteredData);\n      if (filteredData.length === 1) {\n        setCharacterInfo(filteredData[0]);\n      } else {\n        setShow(true);\n      }\n      console.log('filteredData', filteredData);\n    } catch (err) {\n      setError(err.message);\n      setCharacterInfo(null);\n    }\n    setIsLoading(false);\n  };\n\n  return (\n    <div className=\"parent\">\n    <Container>\n      <div className='card'>\n        <Row className=\"justify-content-center\">\n          <h1 className='title'>Heroes and Villains</h1>\n        </Row>\n        <SearchBar\n          error={error}\n          isLoading={isLoading}\n          setError={setError}\n          getCharacter={getCharacter}\n        />\n        {characterInfo && !error ? <CharacterCard characterInfo={characterInfo} /> : null}\n        <SelectionModal\n          show={show}\n          setCharacterInfo={setCharacterInfo}\n          characterList={characterList}\n          setShow={setShow}\n        />\n      </div>\n    </Container>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}